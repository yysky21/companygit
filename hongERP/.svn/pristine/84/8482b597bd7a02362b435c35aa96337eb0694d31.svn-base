package com.hzg.afterSaleService;

import com.hzg.order.*;
import com.hzg.tools.*;
import org.apache.log4j.Logger;
import org.hibernate.SessionFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import java.util.*;

/**
 * Copyright © 2012-2025 云南红掌柜珠宝有限公司 版权所有
 * 文件名: OrderService.java
 * 类的详细说明
 *
 * @author smjie
 * @version 1.00
 * @Date 2017/8/21
 */
@Service
public class ReturnProductService {
    Logger logger = Logger.getLogger(ReturnProductService.class);

    @Autowired
    private OrderDao orderDao;

    @Autowired
    private PayClient payClient;

    @Autowired
    private ErpClient erpClient;

    @Autowired
    private SysClient sysClient;

    @Autowired
    private Writer writer;

    @Autowired
    public ObjectToSql objectToSql;

    @Autowired
    public SessionFactory sessionFactory;

    @Autowired
    private DateUtil dateUtil;

    @Autowired
    CustomerClient customerClient;

    /**
     * 保存退货单
     * @param returnProduct
     * @return
     */
    public String saveReturnProduct(ReturnProduct returnProduct) {
        String result = CommonConstant.fail;

        logger.info("saveReturnProduct start");

        logger.info("saveReturnProduct end, result:" + result);
        return result.equals(CommonConstant.fail) ? result : result.substring(CommonConstant.fail.length());

    }

    public List<ReturnProduct> queryReturnProduct(ReturnProduct returnProduct) {
        List<ReturnProduct> returnProducts = orderDao.query(returnProduct);

        for (ReturnProduct item : returnProducts) {
            for (ReturnProductDetail detail : item.getDetails()) {
            }
        }

        return returnProducts;
    }

    /**
     * 检查是否可退货
     * @param returnProduct
     * @return
     */
    public String isCanReturn(ReturnProduct returnProduct) {
        String canSellMsg = "";

        for (ReturnProductDetail detail : returnProduct.getDetails()) {
        }

        return canSellMsg;
    }

    /**
     * 取消订单
     * @param returnProduct
     */
    public String cancelReturnProduct(ReturnProduct returnProduct) {
        String result = CommonConstant.fail;
        return result;
    }

    /**
     * 退货单退款
     * @param returnProduct
     */
    public String refundReturnProduct(ReturnProduct returnProduct) {
        String result = CommonConstant.fail;
        return result.equals(CommonConstant.fail) ? result : result.substring(CommonConstant.fail.length());
    }
}
